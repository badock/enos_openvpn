# TCP/443 server
mode server
tls-server
# Tcp protocol
proto udp
port 443
dev tap
# Keys & certs
ca ca.crt
cert server.crt
key server.key
dh dh2048.pem
tls-auth ta.key 0
# cipher AES-256-CBC
# secret /etc/openvpn/openvpn-shared-key.key
# Network
server {{ config.networks[0].server }} 255.255.255.0
client-to-client
# push "route {{ config.networks[0].server }} 255.255.255.0"
push "route 255.255.255.255 255.255.255.255"
# Defining VPN server as default gateway for the clients
# push "redirect-gateway bypass-dhcp"
push "redirect-gateway def1 bypass-dhcp"
push "dhcp-option DNS 8.8.8.8"
push "dhcp-option DNS 8.8.4.4"
keepalive 10 120
# Security
user nobody
group nogroup
chroot /etc/openvpn/jail
persist-key
persist-tun
# Log
verb 3
mute 20
status openvpn-status.log
log-append /var/log/openvpn.log
management localhost 6666
# Tweak
sndbuf 393216
rcvbuf 393216
push "sndbuf 393216"
push "rcvbuf 393216"
tun-mtu 48000
fragment 0
mssfix 0
# cipher aes-256-cbc
# cipher none
cipher AES-128-CBC
# engine aesni
# comp-lzo
